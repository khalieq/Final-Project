Configuring Alerts
Complete the following to configure alerts in Kibana:


Access Kibana at 192.168.1.100:5601


Click on Management > License Management and enable the Kibana Premium Free Trial.


Click Management > Watcher > Create Alert > Create Threshold Alert


Implement three of the alerts you designed at the end of Project 2.


You can configure any alerts you'd like, but you are recommended to start with the following:


Excessive HTTP Errors

Select the packetbeat indice


WHEN count() GROUPED OVER top 5 'http.response.status_code' IS ABOVE 400 FOR THE LAST 5 minutes




HTTP Request Size Monitor

Select the packetbeat indice


WHEN sum() of http.request.bytes OVER all documents IS ABOVE 3500 FOR THE LAST 1 minute




CPU Usage Monitor

Select the metricbeat indice


WHEN max() OF system.process.cpu.total.pct OVER all documents IS ABOVE 0.5 FOR THE LAST 5 minutes





Viewing Logs Messages
There are a few way to to view these log messages and their associated data options.


First, you can see when alerts are firing directly from the Watcher screen.


As you attack Target 1, keep the watcher page open to view your alerts fire in real time.



To view network traffic associated with these messages, we need to create a new Index Pattern:


Click on Management > Index Patterns and click on the button for Create Index Pattern.




Make sure to turn on the toggle button labeled Include System Indices on the top right corner.



Create the pattern .watcher-history-*.



After you have this new index pattern, you can search through it using the Discovery page.



Enter result.condition.met in as search filter to see all the traffic from your alerts.

